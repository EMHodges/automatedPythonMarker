{% load custom_filter %}
{% block content %}

{% if results %}
    <table>
       <tr>
           <td>Test Name</td>
           <td>Test Feedback</td>
           <td>Failed Test Parameters</td>
           <td>Mark</td>
           <td>Test Result</td>
       </tr>
        {% for result in results %}
            <tr>
                <td>{{ result.test_name|replace_underscores }}</td>
                <td>{{ result.test_feedback }}</td>
                <td>{{ result|get_failing_subtest_params|safe }}</td>
                <td>{{ result.mark }}</td>
                <td>{{ result.test_result }}</td>
            </tr>
        {% endfor %}
    </table>
    <p>Marks: {{ results|get_mark }} / {{ marks_available }}</p>
{% endif %}

{% endblock %}
